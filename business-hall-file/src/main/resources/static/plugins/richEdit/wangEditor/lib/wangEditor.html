<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>wangEditor 上传图片</title>
    <link href="wangEditor.css" rel="stylesheet">
</head>
<body>
<p>wangEditor 自定义上传图片</p>

<div id="div5">
    <p>欢迎使用 wangEditor 富文本编辑器</p>
</div>
<button id="btn1">获取html</button>
<script type="text/javascript" src="wangEditor.js"></script>
<script type="text/javascript">
    var E = window.wangEditor;

    var editor = new E('#div5')
    // 配置服务器端地址
    editor.customConfig.uploadImgServer = 'http://localhost:8086/common-file/api/fileUpload/singleImg'
    editor.customConfig.uploadImgParamsWithUrl = true
    editor.customConfig.uploadFileName = 'file'
    editor.customConfig.withCredentials = true
    editor.customConfig.uploadImgTimeout = 3000;

    editor.customConfig.uploadImgParams = {
        uploadType: 6  // 属性值会自动进行 encode ，此处无需 encode
    }

    /*editor.customConfig.customUploadImg = function (files, insert) {
        http://localhost:8086/common-file/api/fileUpload/singleImg?uploadType=6
        insert('https://ss0.bdstatic.com/5aV1bjqh_Q23odCf/static/superman/img/logo/bd_logo1_31bdc765.png')
    }*/
    editor.create()
    editor.txt.html('<p>用 JS 设置的内容</p>');

    document.getElementById('btn1').addEventListener('click', function () {
        // 读取 html
        console.info(editor.txt.html())

        // 读取 text
        console.info(editor.txt.text())
    }, false)

</script>


</body>
</html>